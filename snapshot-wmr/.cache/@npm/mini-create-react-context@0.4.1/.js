import t,{Component as e}from"/@npm/es-react";import n from"/@npm/@babel/runtime/helpers/esm/inheritsLoose";import r from"/@npm/prop-types";import o from"/@npm/tiny-warning";var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function createEventEmitter(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,r){t=n,e.forEach((function(e){return e(t,r)}))}}}var u=t.createContext||function(t,u){var s,a,c,p="__create-react-context-"+((i[c="__global_unique_id__"]=(i[c]||0)+1)+"__"),l=function(t){function Provider(){var e;return(e=t.apply(this,arguments)||this).emitter=createEventEmitter(e.props.value),e}n(Provider,t);var e=Provider.prototype;return e.getChildContext=function(){var t;return(t={})[p]=this.emitter,t},e.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var e,n=this.props.value,r=t.value;((i=n)===(s=r)?0!==i||1/i==1/s:i!=i&&s!=s)?e=0:(e="function"==typeof u?u(n,r):1073741823,o((1073741823&e)===e,"calculateChangedBits: Expected the return value to be a 31-bit integer. Instead received: "+e),0!==(e|=0)&&this.emitter.set(t.value,e))}var i,s},e.render=function(){return this.props.children},Provider}(e);l.childContextTypes=((s={})[p]=r.object.isRequired,s);var f=function(e){function Consumer(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!=((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}n(Consumer,e);var r=Consumer.prototype;return r.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=null==e?1073741823:e},r.componentDidMount=function(){this.context[p]&&this.context[p].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=null==t?1073741823:t},r.componentWillUnmount=function(){this.context[p]&&this.context[p].off(this.onUpdate)},r.getValue=function(){return this.context[p]?this.context[p].get():t},r.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},Consumer}(e);return f.contextTypes=((a={})[p]=r.object,a),{Provider:l,Consumer:f}};export default u;