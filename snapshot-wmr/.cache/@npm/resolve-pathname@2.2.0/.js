function isAbsolute(e){return"/"===e.charAt(0)}function spliceOne(e,t){for(var n=t,i=n+1,s=e.length;i<s;n+=1,i+=1)e[n]=e[i];e.pop()}export default function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],i=t&&t.split("/")||[],s=e&&isAbsolute(e),l=t&&isAbsolute(t),r=s||l;if(e&&isAbsolute(e)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var o=void 0;if(i.length){var u=i[i.length-1];o="."===u||".."===u||""===u}else o=!1;for(var f=0,p=i.length;p>=0;p--){var a=i[p];"."===a?spliceOne(i,p):".."===a?(spliceOne(i,p),f++):f&&(spliceOne(i,p),f--)}if(!r)for(;f--;f)i.unshift("..");!r||""===i[0]||i[0]&&isAbsolute(i[0])||i.unshift("");var c=i.join("/");return o&&"/"!==c.substr(-1)&&(c+="/"),c}