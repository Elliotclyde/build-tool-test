function isAbsolute(e){return"/"===e.charAt(0)}function spliceOne(e,t){for(var n=t,i=n+1,s=e.length;i<s;n+=1,i+=1)e[n]=e[i];e.pop()}export default function(e,t){void 0===t&&(t="");var n,i=e&&e.split("/")||[],s=t&&t.split("/")||[],l=e&&isAbsolute(e),r=t&&isAbsolute(t),o=l||r;if(e&&isAbsolute(e)?s=i:i.length&&(s.pop(),s=s.concat(i)),!s.length)return"/";if(s.length){var u=s[s.length-1];n="."===u||".."===u||""===u}else n=!1;for(var f=0,p=s.length;p>=0;p--){var c=s[p];"."===c?spliceOne(s,p):".."===c?(spliceOne(s,p),f++):f&&(spliceOne(s,p),f--)}if(!o)for(;f--;f)s.unshift("..");!o||""===s[0]||s[0]&&isAbsolute(s[0])||s.unshift("");var a=s.join("/");return n&&"/"!==a.substr(-1)&&(a+="/"),a}